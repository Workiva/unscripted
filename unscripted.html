        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>unscripted Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="favicon.ico">
        
        </head>
        <body data-library="unscripted">
        <div class="page">
        <div class="header">
          <a href="index.html"><div class="logo"></div></a>
          <a href="index.html">Dart Documentation</a>
         &rsaquo; <a href="unscripted.html">unscripted</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
<h2><strong>unscripted</strong> library</h2>
<div class="doc"><p>Flip the (command line) script.</p></div>
<div>
<h3>Functions</h3>
<div class="method"><h4 id="improvise">
<button class="show-code">Code</button>
<a href="unscripted/Script.html">Script</a> <strong>improvise</strong>(model) <a class="anchor-link" href="#improvise"
              title="Permalink to improvise">#</a></h4>
<div class="doc">
<p>Derives and returns a <a class="crossref" href="unscripted/Script.html">Script</a> from 
<span class="param">model</span>.</p>
<p>The model is just an ordinary programming construct, particularly either a
closure (<a class="crossref" href="dart_core/Function.html">Function</a>) or class (<a class="crossref" href="dart_core/Type.html">Type</a>), annotated with command line
interface metadata.  The model itself can be annotated as a <a class="crossref" href="unscripted/Command.html">Command</a>.  The
returned script automatically includes adds '--help' / '-h' flags, and
prints help information when these flags are passed, or when the script was
invoked incorrectly.</p>
<p>For simple scripts without sub-commands, the model should be a <a class="crossref" href="dart_core/Function.html">Function</a>.
The function's parameters define the command line parameters
accepted by the script.  Named parameters with <a class="crossref" href="dart_core/bool.html">bool</a> type annotations or
<a class="crossref" href="unscripted/Flag.html">Flag</a> metadata annotations are considered flags.  Named parameters with a
<a class="crossref" href="dart_core/String.html">String</a> or <code>dynamic</code> type annotations or <a class="crossref" href="unscripted/Option.html">Option</a> metadata annotations are
considered options.  Required positional parameters are mapped to
positional command line parameters.  Optional positional parameters are not
allowed.  However, a <a class="crossref" href="unscripted/Rest.html">Rest</a> metadata annotation can be placed on the last
positional parameter to represent all remaining positional arguments past
to the script.</p>
<p>When the returned script is [executed][Script.execute], the command line
arguments are injected into their corresponding function arguments.</p>
<pre><code>main(arguments) =&gt; improvise(greet).execute(arguments);

@Command(help: 'Outputs a greeting')
@ArgExample('--exclaim --salutation Howdy Mr. John Doe', help: 'enthusiastic')
greet(
    @Positional(help: "such as 'Mr.' or 'Mrs.'")
    String title,
    @Rest(help: "One or more names to greet, e.g. 'Jack' or 'Jack Jill'")
    List&lt;String&gt; who,
    {String salutation : 'Hello',
     bool exclaim : false}) {

  print('$salutation $title ${who.join(' ')}${exclaim ? '!' : ''}');

}
</code></pre>
<p>For scripts with sub-commands, the model should be a class (<a class="crossref" href="dart_core/Type.html">Type</a>), which
must have an unnamed constructor, whose parameters define the
top-level options for this script.  Methods of the class can be annotated
as <a class="crossref" href="unscripted/SubCommand.html">SubCommand</a>s.  These methods define and implement the sub-commands
of the script.  A 'help' sub-command is also added which can be invoked bare
or with the name of a sub-command for which to print help.</p>
<p>When the returned script is [executed][Script.execute], the base command line
arguments (before the command) are injected into their corresponding
constructor arguments, to create an instance of the class.  Then, the method
corresponding to the sub-command and associated arguments that were
specified on the command line are used to invoke the corresponding method
on the instance which will have access to any global options through
instance variables that were set in the constructor.</p>
<pre><code>main(arguments) =&gt; improvise(Commands).execute(arguments);

@Command(help: 'Does command-ish stuff')
class Commands {

  @SubCommand(help: 'Does foo')
  @ArgExample('--foo-flag')
  foo({bool fooFlag}) {
    print('foo');
    print('fooFlag: $fooFlag');
  }

  @SubCommand()
  bar() {
    print('bar');
  }

  @SubCommand()
  baz(@Rest(help: '&lt;items&gt;') items) {
    print(items.join(', '));
    print('baz');
  }
}
</code></pre>
<p>Parameter and command names which are camelCased are mapped to their
dash-erized command line equivalents.  For example, <code>fooBar</code> would map to
<code>foo-bar</code>.</p>
<pre class="source">
Script improvise(model) {
 if(model is Function) return new FunctionScript(model);
 if(model is Type) return new ClassScript(model);
 throw new ArgumentError('model must be a Type or Function');
}
</pre>
</div>
</div>
</div>
<div>
<h3>Abstract Classes</h3>
          <div class="type">
          <h4>
            <a href="unscripted/Script.html"><strong>Script</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="unscripted/UsageFormatter.html"><strong>UsageFormatter</strong></a>
          </h4>
          </div>
          
</div>
<div>
<h3>Classes</h3>
          <div class="type">
          <h4>
            <a href="unscripted/ArgExample.html"><strong>ArgExample</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="unscripted/CallStyle.html"><strong>CallStyle</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="unscripted/Command.html"><strong>Command</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="unscripted/Flag.html"><strong>Flag</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="unscripted/Option.html"><strong>Option</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="unscripted/Positional.html"><strong>Positional</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="unscripted/Rest.html"><strong>Rest</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="unscripted/SubCommand.html"><strong>SubCommand</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="unscripted/TerminalUsageFormatter.html"><strong>TerminalUsageFormatter</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="unscripted/Usage.html"><strong>Usage</strong></a>
          </h4>
          </div>
          
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-12-12 22:37:11.237</div>
        </div>
        <script async src="client-live-nav.js"></script>
        </body></html>
        
